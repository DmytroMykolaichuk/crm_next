(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[162],{9743:function(e,t,r){Promise.resolve().then(r.bind(r,6809))},3145:function(e,t,r){"use strict";r.d(t,{default:function(){return o.a}});var n=r(8461),o=r.n(n)},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},8461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return c},getImageProps:function(){return i}});let n=r(7043),o=r(5346),a=r(5878),s=n._(r(5084));function i(e){let{props:t}=(0,o.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=a.Image},6809:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(7437),o=r(9376),a=r(502),s=r(3145),i=r(4645),c=r(2265),l=r(7379),u=r(3943);function d(e){let{params:t}=e,[r,d]=(0,c.useState)(""),[f,p]=(0,c.useState)({title:"Loading",description:"Loading",status:"Loading",joinedDate:"Loading",hasPromotions:!1,categoryId:"Loading",categoryTitle:"Loading",countryId:"",countryTitle:"Loading",id:""}),[m,h]=(0,c.useState)([]),x=(0,o.useSearchParams)().get("reload");async function g(e){await (0,a.qA)(e),h(t=>t.filter(t=>t.id!=e))}(0,c.useEffect)(()=>{(async()=>{let e=await (0,a.Ej)(t.id),r=await (0,a.oq)(e.id);p(e),h(r)})()},[t.id,x]);let y=m.filter(e=>e.title.toLowerCase().includes(r.toLowerCase()));return(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)(i.Z,{page:f.title}),(0,n.jsxs)("main",{children:[(0,n.jsx)(l.Z,{onSearch:d,type:"promotion",url:"/companies/".concat(t.id,"/new-promotion")}),(0,n.jsxs)("div",{className:"flex pl-10 pr-7 pb-10 gap-x-5",children:[(0,n.jsxs)("div",{className:"flex flex-col ",children:[(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center gap-5 py-7 bg-gray-900 rounded w-[268px]",children:[(0,n.jsx)(s.default,{src:"/images/logoDefaultCompany.svg",width:80,height:80,alt:"logo"}),(0,n.jsx)("span",{className:"font-semibold text-base text-zinc-50",children:f.title}),(0,n.jsx)(u.Z,{status:f.status})]}),(0,n.jsxs)("div",{className:"text-base mt-5 bg-gray-200 px-5 pt-5 pb-[100px] rounded w-[268px]",children:[(0,n.jsx)("h2",{className:"mb-5 font-semibold text-xl",children:"About company"}),(0,n.jsxs)("div",{className:"pb-8 flex flex-col border-b border-gray-400 gap-3",children:[(0,n.jsxs)("span",{children:["Category: ",f.categoryTitle||"-"]}),(0,n.jsxs)("span",{children:["Country: ",f.countryTitle||"-"]}),(0,n.jsxs)("span",{children:["Joined date: ",f.joinedDate||"-"]})]}),(0,n.jsx)("p",{className:"pt-8",children:f.description})]})]}),(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)("ul",{className:"grid grid-cols-3 gap-5",children:null==y?void 0:y.map(e=>{let{title:t,description:r,discount:o,id:a}=e;return(0,n.jsxs)("li",{className:"rounded  bg-gray-200 overflow-hidden",children:[(0,n.jsxs)("div",{className:"w-full h-[160px] bg-[#D9D9D9] relative bg-cover",style:{backgroundImage:"url('/images/World.svg')"},children:[(0,n.jsxs)("div",{className:" absolute top-o left-0 w-[52px] h-[52px] bg-[#111827]  rounded-br-full text-[#D9F99D] text-xs font-bold text-center pt-3",children:["- ",o,"%"]}),(0,n.jsx)("button",{type:"button",className:" absolute top-o right-0 w-[52px] h-[52px] bg-[#111827]  rounded-bl-full text-[#D9F99D] text-xs font-bold text-center pl-3 pb-4",onClick:()=>g(a),children:"X"})]}),(0,n.jsxs)("div",{className:"py-5 pl-5 pr-2 min-h-[116px]",children:[(0,n.jsx)("h3",{className:"font-semibold text-base text-gray-900 mb-3",children:t}),(0,n.jsx)("p",{className:"text-sm text-gray-900",children:r})]})]},a)})})})]})]})]})}},4645:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(7437);function o(e){let{page:t}=e;return(0,n.jsxs)("header",{className:"flex flex-1 py-6 pl-10 pr-7 border-b border-gray-300",children:[(0,n.jsx)("h1",{className:"flex-1 text-3xl font-semibold text-gray-900",children:t}),(0,n.jsxs)("div",{className:"flex border-l border-gray-300 pl-9 gap-x-3",children:[(0,n.jsx)("div",{className:"w-[44px] bg-black h-[44px] rounded-full bg-[url('/images/avatar.jpg')] bg-cover"}),(0,n.jsxs)("div",{className:"flex flex-col ",children:[(0,n.jsx)("span",{className:"font-semibold text-base",children:"Apoo"}),(0,n.jsx)("span",{className:"text-sm font-light",children:"simpsons@gmail.com"})]})]})]})}r(2265)},3943:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437);r(2265);var o=r(1994);let a={active:"Active",notActive:"Not Active",pending:"Pending",suspended:"Suspended"};function s(e){let{status:t}=e;return(0,n.jsxs)("div",{className:(0,o.Z)("inline-flex items-center rounded-3xl font-medium text-sm py-1 px-3.5 justify-center w-max","active"===t&&"bg-green-100 text-green-700","notActive"===t&&"bg-red-100 text-red-700","pending"===t&&"bg-orange-100 text-orange-700","suspended"===t&&"bg-blue-100 text-blue-700"),children:[(0,n.jsx)("div",{className:"w-1 h-1 bg-current rounded-full mr-2"}),a[t]]})}},7379:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(7437),o=r(2265),a=r(3145),s=r(7648);function i(e){let{onSearch:t,type:r,url:i}=e,[c,l]=(0,o.useState)("");return(0,n.jsxs)("div",{className:"flex justify-between px-10 py-8 ",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{value:c,type:"text",placeholder:"Search...",className:"py-3 pl-3 pr-8 rounded border border-gray-300 text-sm min-w-[455px]",onChange:e=>{let r=e.target.value;l(r),t(r)}}),(0,n.jsx)(a.default,{src:"/icon/glass.svg",alt:"glass",width:20,height:20,className:"absolute right-3 top-1/2 transform -translate-y-1/2 "})]}),(0,n.jsxs)(s.default,{href:i,className:"py-2.5 px-5 bg-gray-900 rounded text-white",children:["Add ",r]})]})}},502:function(e,t,r){"use strict";r.d(t,{Ej:function(){return s},ap:function(){return a},e5:function(){return c},ht:function(){return u},oq:function(){return i},qA:function(){return d},sp:function(){return l}});let n="65c21c4ff7e6ea59682aa7e1";async function o(e){try{let t=await fetch("https://".concat(n,".mockapi.io/api/v1/").concat(e));if(!t.ok){if(404===t.status)return[];throw Error("Error fetching ".concat(e,": ").concat(t.statusText))}return await t.json()}catch(t){throw console.error(t),Error("Failed to fetch data from ".concat(e))}}async function a(){return o("companies")}async function s(e){return o("companies/".concat(e))}async function i(e){return o("promotions?companyId=".concat(e))}async function c(e){try{let t=await fetch("https://".concat(n,".mockapi.io/api/v1/companies"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Error submitting form.");return await t.json()}catch(e){throw console.error("Error submitting form.",e),e}}async function l(e){try{if(!(await fetch("https://".concat(n,".mockapi.io/api/v1/promotions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Error creating promo")}catch(e){console.error("Error creating promo:",e)}}async function u(e){try{if(!(await fetch("https://".concat(n,".mockapi.io/api/v1/companies/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,hasPromotions:!0})})).ok)throw Error("Error change company")}catch(e){console.error("Error chenging company:",e)}}async function d(e){try{if(!(await fetch("https://".concat(n,".mockapi.io/api/v1/promotions/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw Error("Error change company")}catch(e){console.error("Error deleting promotion:",e)}}},1994:function(e,t,r){"use strict";t.Z=function(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=function e(t){var r,n,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t){if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(n=e(t[r]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n)}return o}(e))&&(n&&(n+=" "),n+=t);return n}}},function(e){e.O(0,[878,648,971,117,744],function(){return e(e.s=9743)}),_N_E=e.O()}]);